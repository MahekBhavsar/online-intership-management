<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-5">

      <div class="card shadow">
        <div class="card-header bg-primary text-white text-center">
          <h4>Staff Login</h4>
        </div>

        <div class="card-body">
          <form [formGroup]="form" (ngSubmit)="onLogin()">

            
            <div class="mb-3">
              <label class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                placeholder="Enter staff email"
                formControlName="email"
                [class.is-invalid]="form.controls['email'].invalid && form.controls['email'].touched">
            </div>

            @if (form.controls['email'].invalid && (form.controls['email'].touched || form.controls['email'].dirty)) {
              <div class="text-danger">Email is required</div>
            }

            
            <div class="mb-3">
              <label class="form-label">Password</label>
              <input
                type="password"
                class="form-control"
                placeholder="Enter password"
                formControlName="password"
                [class.is-invalid]="form.controls['password'].invalid && form.controls['password'].touched">
            </div>

            @if (form.controls['password'].invalid && (form.controls['password'].touched || form.controls['password'].dirty)) {
              <div class="text-danger">Password is required</div>
            }

            
            <button
              type="submit"
              class="btn btn-primary w-100"
              [disabled]="form.invalid">
              Login
            </button>
          </form>

          <button
            type="button"
            class="btn btn-success w-100 mt-3"
            (click)="goToDashboard()">
            Go to Dashboard
          </button>
        </div>

        <div class="card-footer text-center">
          <small>Staff access only</small>
        </div>
      </div>

    </div>
  </div>
</div>

<div class="popup-backdrop" *ngIf="showError">
  <div class="popup-box">
    <h5 class="text-danger">Login Failed</h5>
    <p>Email or Password is wrong</p>

    <button class="btn btn-secondary btn-sm" (click)="closePopup()">
      Close
    </button>
  </div>
</div>
